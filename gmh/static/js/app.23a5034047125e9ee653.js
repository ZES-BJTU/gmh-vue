webpackJsonp([1],{"/25Z":function(t,e){},"0Fkc":function(t,e){},"0b6Y":function(t,e){},"5/iS":function(t,e){},"6QSj":function(t,e){},"7IKo":function(t,e){},"9AMu":function(t,e){},"9xDT":function(t,e){},EqDn:function(t,e){},"Iu/K":function(t,e){},M4n3:function(t,e){},M5qF:function(t,e){},Mwtr:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};o.d(n,"test1",function(){return ao}),o.d(n,"test2",function(){return io});var r=o("VCXJ"),a=o("9rMa"),i=o("5KA/"),s=o.n(i),l=(o("wW0W"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var c=o("Z0/y")({name:"App"},l,!1,function(t){o("eMjX")},null,null).exports,u=o("zO6J"),m=o("rVsN"),p=o.n(m),d=o("2sCs"),f=o.n(d),g=f.a.CancelToken.source(),h=f.a.create({baseURL:"http://localhost:8080",timeout:5e3,responseType:"json",cancelToken:g.token,withCredentials:!0,headers:{"Content-Type":"application/json"}});h.interceptors.request.use(function(t){return t.url.match("login")?t:(sessionStorage.getItem("token")?t.headers.common["x-token"]=sessionStorage.getItem("token"):(Object(i.Message)({showClose:!0,message:"未登录,请先登录！",type:"error"}),g.cancel("未登录")),t)},function(t){return Object(i.Message)({showClose:!0,message:t,type:"error"}),p.a.reject(t.message)}),h.interceptors.response.use(function(t){switch(t.status){case 201:Object(i.Message)({showClose:!0,message:"新建成功",type:"success"});break;case 204:Object(i.Message)({showClose:!0,message:"删除成功",type:"success"});break;default:if(0!=t.data.code)return Object(i.Message)({showClose:!0,message:t.data.message,type:"error"}),p.a.reject(t.data.message)}return t},function(t){"未登录"===t.message&&(Ye.push({path:"/signin"}),console.log("未登录"));var e=t.message;return p.a.reject(e)});var v={post:function(t,e){return new p.a(function(o,n){h.post(t,e).then(function(t){o(t.data)}).catch(function(t){n(t)})})},get:function(t,e){return new p.a(function(o,n){h.get(t,{params:e}).then(function(t){o(t.data)}).catch(function(t){n(t)})})},put:function(t,e){return new p.a(function(o,n){h.put(t,e).then(function(t){o(t.data)}).catch(function(t){n(t)})})},patch:function(t,e){return new p.a(function(o,n){h.patch(t,e).then(function(t){o(t.data)}).catch(function(t){n(t)})})},del:function(t,e){return new p.a(function(o,n){h.delete(t,e).then(function(t){o(t.data)}).catch(function(t){n(t)})})}},y={name:"Signin",data:function(){return{signinForm:{account:"",password:""},rules:{account:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},loading:!1}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,v.post("/users/login",{account:e.signinForm.account,password:e.signinForm.password}).then(function(t){if(e.loading=!1,0===t.code){var o=t.data;e.setAccountSession(o.role,o.account,o.name+"-"+o.storeName,o.token),"管理员"===o.role?e.$router.push({path:"/store"}):"店长"===o.role?e.$router.push({path:"/chart"}):"前台"===o.role?e.$router.push({path:"/appointment"}):"操作员"===o.role&&e.$router.push({path:"/time"})}}).catch(function(t){e.loading=!1})})}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signin"},[n("el-container",[n("el-main",{staticClass:"main-container"},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{xs:24,sm:8,md:6,lg:5,xl:3}},[n("div",{staticClass:"signin-logo"},[n("img",{attrs:{src:o("lN1t")}})]),t._v(" "),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"signinForm",attrs:{"label-width":"0px",model:t.signinForm,rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onSubmit("signinForm")}}},[n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{staticClass:"signin-input",attrs:{placeholder:"EMAIL",autofocus:!0},model:{value:t.signinForm.account,callback:function(e){t.$set(t.signinForm,"account","string"==typeof e?e.trim():e)},expression:"signinForm.account"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{staticClass:"signin-input",attrs:{type:"password",placeholder:"PASSWORD"},model:{value:t.signinForm.password,callback:function(e){t.$set(t.signinForm,"password","string"==typeof e?e.trim():e)},expression:"signinForm.password"}})],1),t._v(" "),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{staticClass:"signin-btn",on:{click:function(e){t.onSubmit("signinForm")}}},[t._v("GO")])],1)],1),t._v(" "),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("div",{staticClass:"signin-link"},[t._v("\n              忘记密码了？点此\n              "),n("router-link",{staticClass:"forget-pwd ",attrs:{to:"/resetpwd"}},[t._v("重置密码")])],1)])],1)],1)],1),t._v(" "),n("el-footer",{staticClass:"footer"},[n("div",[t._v("管理系统版权归北京光美焕科技有限责任公司所有")]),t._v(" "),n("div",[n("a",{attrs:{target:"_blank",href:"http://www.brandnew-gmh.com"}},[t._v("www.brandnew-gmh.com")])])])],1)],1)},staticRenderFns:[]};var k=o("Z0/y")(y,b,!1,function(t){o("ZyEc")},"data-v-299d6be3",null).exports,_={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"HomeHeader"},[o("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[o("el-menu-item",{attrs:{index:"1"}},[o("router-link",{attrs:{to:"/"}},[t._v("光美焕")])],1),t._v(" "),o("el-submenu",{staticClass:"account-item",attrs:{index:"2"}},[o("template",{slot:"title"},[t._v(t._s(t.name))]),t._v(" "),o("el-menu-item",{attrs:{index:"2-1"}},[t._v("修改密码")]),t._v(" "),o("el-menu-item",{attrs:{index:"2-3"},on:{click:t.signout}},[t._v("退出登录")])],2)],1)],1)},staticRenderFns:[]};var S={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"SideMenu"},[o("el-aside",{staticClass:"home-aside",attrs:{width:"200px"}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("el-menu",{attrs:{"default-active":t.activeMenu,"unique-opened":!0}},["管理员"===t.role?o("router-link",{attrs:{to:"/store"}},[o("el-menu-item",{attrs:{index:"1"}},[o("i",{staticClass:"el-icon-document"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("店铺")])])],1):t._e(),t._v(" "),"管理员"===t.role?o("router-link",{attrs:{to:"/principal"}},[o("el-menu-item",{attrs:{index:"2"}},[o("i",{staticClass:"el-icon-document"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("店铺负责人")])])],1):t._e(),t._v(" "),"店长"===t.role?o("router-link",{attrs:{to:"/chart"}},[o("el-menu-item",{attrs:{index:"3"}},[o("i",{staticClass:"el-icon-document"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])])],1):t._e(),t._v(" "),"店长"===t.role?o("router-link",{attrs:{to:"/reception"}},[o("el-menu-item",{attrs:{index:"4"}},[o("i",{staticClass:"el-icon-document"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("前台")])])],1):t._e(),t._v(" "),"店长"===t.role?o("router-link",{attrs:{to:"/operator"}},[o("el-menu-item",{attrs:{index:"5"}},[o("i",{staticClass:"el-icon-document"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("操作员")])])],1):t._e(),t._v(" "),"店长"===t.role||"前台"===t.role?o("router-link",{attrs:{to:"/appointment"}},[o("el-menu-item",{attrs:{index:"6"}},[o("i",{staticClass:"el-icon-document"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("预约")])])],1):t._e(),t._v(" "),"店长"===t.role||"前台"===t.role?o("el-submenu",{attrs:{index:"8"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),t._v(" "),o("span",[t._v("客户")])]),t._v(" "),o("router-link",{attrs:{to:"/customer"}},[o("el-menu-item",{attrs:{index:"8-1"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("客户")])])],1),t._v(" "),o("router-link",{attrs:{to:"/customer-card"}},[o("el-menu-item",{attrs:{index:"8-2"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("客户会员卡")])])],1),t._v(" "),o("router-link",{attrs:{to:"/customer-activity"}},[o("el-menu-item",{attrs:{index:"8-3"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("客户活动")])])],1),t._v(" "),o("router-link",{attrs:{to:"/customer-card-change"}},[o("el-menu-item",{attrs:{index:"8-4"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("客户会员卡信息变动")])])],1)],2):t._e(),t._v(" "),"店长"===t.role||"前台"===t.role?o("el-submenu",{attrs:{index:"9"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),t._v(" "),o("span",[t._v("库存")])]),t._v(" "),o("router-link",{attrs:{to:"/stock-type"}},[o("el-menu-item",{attrs:{index:"9-1"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("库存分类管理")])])],1),t._v(" "),o("router-link",{attrs:{to:"/stock"}},[o("el-menu-item",{attrs:{index:"9-2"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("库存管理")])])],1),t._v(" "),o("router-link",{attrs:{to:"/stock-amount"}},[o("el-menu-item",{attrs:{index:"9-3"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("库存数量管理")])])],1)],2):t._e(),t._v(" "),"店长"===t.role||"前台"===t.role?o("el-submenu",{attrs:{index:"10"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),t._v(" "),o("span",[t._v("美容项目")])]),t._v(" "),o("router-link",{attrs:{to:"/project-type"}},[o("el-menu-item",{attrs:{index:"10-1"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("美容项目分类管理")])])],1),t._v(" "),o("router-link",{attrs:{to:"/project"}},[o("el-menu-item",{attrs:{index:"10-2"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("美容项目管理")])])],1)],2):t._e(),t._v(" "),"店长"===t.role||"前台"===t.role?o("el-submenu",{attrs:{index:"12"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),t._v(" "),o("span",[t._v("产品")])]),t._v(" "),o("router-link",{attrs:{to:"/product-type"}},[o("el-menu-item",{attrs:{index:"12-1"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("产品分类管理")])])],1),t._v(" "),o("router-link",{attrs:{to:"/product"}},[o("el-menu-item",{attrs:{index:"12-2"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("产品管理")])])],1),t._v(" "),o("router-link",{attrs:{to:"/product-amount"}},[o("el-menu-item",{attrs:{index:"12-3"}},[o("span",{attrs:{slot:"title"},slot:"title"},[t._v("产品数量管理")])])],1)],2):t._e(),t._v(" "),"店长"===t.role||"前台"===t.role?o("router-link",{attrs:{to:"/employee"}},[o("el-menu-item",{attrs:{index:"14"}},[o("i",{staticClass:"el-icon-document"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("员工")])])],1):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var F={name:"Home",data:function(){return{activeIndex:"1"}},computed:{name:function(){return this.getNameSession()}},components:{HomeHeader:o("Z0/y")({name:"HomeHeader",data:function(){return{}},computed:{name:function(){return this.getNameSession()}},methods:{signout:function(){this.clearAccountSession(),this.$router.push({path:"/signin"})}}},_,!1,function(t){o("wVOR")},"data-v-cf178992",null).exports,SideMenu:o("Z0/y")({name:"SideMenu",data:function(){return{}},computed:{role:function(){return this.getRoleSession()},activeMenu:function(){var t=this.$route.fullPath;return t.match("store")?"1":t.match("principal")?"2":t.match("chart")?"3":t.match("reception")?"4":t.match("operator")?"5":t.match("appointment")?"6":t.match("consume-change")?"7-2":t.match("consume")?"7-1":t.match("customer-card-change")?"8-4":t.match("customer-activity")?"8-3":t.match("customer-card")?"8-2":t.match("customer")?"8-1":t.match("stock-type")?"9-1":t.match("stock-amount")?"9-3":t.match("stock")?"9-2":t.match("project-type")?"10-1":t.match("project")?"10-2":t.match("member-card")?"11":t.match("product-type")?"12-1":t.match("product-amount")?"12-3":t.match("product")?"12-2":t.match("activity")?"13":t.match("employee")?"14":t.match("employee-grade")?"15":void 0}}},S,!1,function(t){o("Xl05")},"data-v-4f09a668",null).exports}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("el-container",[e("el-header",[e("home-header")],1),this._v(" "),e("el-container",{staticClass:"home-container"},[e("side-menu"),this._v(" "),e("el-container",[e("el-main",[e("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var $=o("Z0/y")(F,w,!1,function(t){o("NcGL")},"data-v-6a393873",null).exports,C={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reset-pwd"},[e("div",[this._v("重置密码")])])}]};var x=o("Z0/y")({name:"ResetPWD",data:function(){return{}}},C,!1,function(t){o("fH8R")},"data-v-db1faf4c",null).exports,P={name:"Store",data:function(){return{storeSearch:{content:"",oldContent:"",pageNum:1,pageSize:10,type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.store.pageNum},pageSize:function(){return this.$store.state.store.pageSize},totalCount:function(){return this.$store.state.store.totalCount},totalPages:function(){return this.$store.state.store.totalPages},tableData:function(){return this.$store.state.store.stores}},methods:{searchStore:function(t){var e=this;this.loading=!0,"search"===t&&(this.storeSearch.oldContent=this.storeSearch.content),this.storeSearch.type=t,this.$store.dispatch("loadStore",this.storeSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.storeSearch.pageNum=t,this.searchStore("page")},handleRemark:function(t,e){return t.remark&&""!==t.remark?t.remark:"暂无备注"},handleEdit:function(t,e){this.$router.push({path:"/store/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delStore",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchStore("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchStore("search")}},T={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Store"},[o("el-form",{ref:"storeSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.storeSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchStore("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.storeSearch.content,callback:function(e){t.$set(t.storeSearch,"content","string"==typeof e?e.trim():e)},expression:"storeSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchStore("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/store/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),o("el-table-column",{attrs:{prop:"address",label:"地址"}}),t._v(" "),o("el-table-column",{attrs:{prop:"phone",label:"电话"}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",formatter:t.handleRemark}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150px;",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var A=o("Z0/y")(P,T,!1,function(t){o("hMro")},"data-v-5e36bad6",null).exports,N={name:"StoreNew",data:function(){return{newStoreForm:{name:"",address:"",phone:"",remark:""},rules:{name:[{required:!0,message:"店铺名称不能为空",trigger:"blur"}],address:[{required:!0,message:"店铺地址不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addStore",e.newStoreForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/store"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}}},z={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StoreNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/store"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建店铺")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newStoreForm",staticClass:"new-form",attrs:{model:t.newStoreForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newStoreForm")}}},[o("el-form-item",{attrs:{label:"店铺名称",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newStoreForm.name,callback:function(e){t.$set(t.newStoreForm,"name","string"==typeof e?e.trim():e)},expression:"newStoreForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺地址",prop:"address"}},[o("el-input",{model:{value:t.newStoreForm.address,callback:function(e){t.$set(t.newStoreForm,"address","string"==typeof e?e.trim():e)},expression:"newStoreForm.address"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺电话"}},[o("el-input",{model:{value:t.newStoreForm.phone,callback:function(e){t.$set(t.newStoreForm,"phone","string"==typeof e?e.trim():e)},expression:"newStoreForm.phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺备注"}},[o("el-input",{model:{value:t.newStoreForm.remark,callback:function(e){t.$set(t.newStoreForm,"remark","string"==typeof e?e.trim():e)},expression:"newStoreForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newStoreForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var E=o("Z0/y")(N,z,!1,function(t){o("/25Z")},"data-v-7d629bcc",null).exports,R={name:"StoreDetail",data:function(){return{modStoreForm:{id:0,name:"",addreee:"",phone:"",remark:""},rules:{name:[{required:!0,message:"店铺名称不能为空",trigger:"blur"}],address:[{required:!0,message:"店铺地址不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modStore",e.modStoreForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/store"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){0===this.$store.state.store.stores.length?this.$router.push({path:"/store"}):this.modStoreForm=this.$store.getters.getStoreById(this.$route.params.id)}},I={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StoreDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/store"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑店铺")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modStoreForm",staticClass:"new-form",attrs:{model:t.modStoreForm,rules:t.rules,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modStoreForm")}}},[o("el-form-item",{attrs:{label:"店铺名称",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modStoreForm.name,callback:function(e){t.$set(t.modStoreForm,"name","string"==typeof e?e.trim():e)},expression:"modStoreForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺地址",prop:"address"}},[o("el-input",{model:{value:t.modStoreForm.address,callback:function(e){t.$set(t.modStoreForm,"address","string"==typeof e?e.trim():e)},expression:"modStoreForm.address"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺电话"}},[o("el-input",{model:{value:t.modStoreForm.phone,callback:function(e){t.$set(t.modStoreForm,"phone","string"==typeof e?e.trim():e)},expression:"modStoreForm.phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺备注"}},[o("el-input",{model:{value:t.modStoreForm.remark,callback:function(e){t.$set(t.modStoreForm,"remark","string"==typeof e?e.trim():e)},expression:"modStoreForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modStoreForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var O=o("Z0/y")(R,I,!1,function(t){o("s68u")},"data-v-08077908",null).exports,q={name:"Principal",data:function(){return{principalSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",role:"2",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.user.pageNum},pageSize:function(){return this.$store.state.user.pageSize},totalCount:function(){return this.$store.state.user.totalCount},totalPages:function(){return this.$store.state.user.totalPages},tableData:function(){return this.$store.state.user.users}},methods:{searchPrincipal:function(t){var e=this;this.loading=!0,"search"===t&&(this.principalSearch.oldContent=this.principalSearch.content),this.principalSearch.type=t,this.$store.dispatch("loadUser",this.principalSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.principalSearch.pageNum=t,this.searchPrincipal("page")},handleRemark:function(t,e){return t.remark&&""!==t.remark?t.remark:"暂无备注"},handleEdit:function(t,e){this.$router.push({path:"/principal/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delUser",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchPrincipal("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchPrincipal("search")}},B={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Principal"},[o("el-form",{ref:"principalSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.principalSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchPrincipal("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.principalSearch.content,callback:function(e){t.$set(t.principalSearch,"content","string"==typeof e?e.trim():e)},expression:"principalSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchPrincipal("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/principal/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),o("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),o("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),t._v(" "),o("el-table-column",{attrs:{prop:"gender",label:"性别"}}),t._v(" "),o("el-table-column",{attrs:{prop:"storeName",label:"店铺名称"}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",formatter:t.handleRemark}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150px;",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var D=o("Z0/y")(q,B,!1,function(t){o("9AMu")},"data-v-f7b8b1bc",null).exports,j={name:"PrincipalNew",data:function(){return{newPrincipalForm:{role:"2",name:"",email:"",mobile:"",gender:"",storeId:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的数字",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}],storeId:[{required:!0,message:"所属店铺不能为空",trigger:"change"}]},loading:!1,enterFlag:!0}},computed:{stores:function(){return this.$store.state.store.storesAll}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addUser",e.newPrincipalForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/principal"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})},loadStoreAll:function(){var t=this;this.$store.dispatch("loadStoreAll").then(function(e){t.loading=!1,t.$message.success("查询成功")}).catch(function(t){console.log(t)})}},beforeMount:function(){this.loadStoreAll()}},M={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PrincipalNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/principal"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建店铺负责人")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newPrincipalForm",staticClass:"new-form",attrs:{model:t.newPrincipalForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newPrincipalForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newPrincipalForm.name,callback:function(e){t.$set(t.newPrincipalForm,"name","string"==typeof e?e.trim():e)},expression:"newPrincipalForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{model:{value:t.newPrincipalForm.email,callback:function(e){t.$set(t.newPrincipalForm,"email","string"==typeof e?e.trim():e)},expression:"newPrincipalForm.email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{model:{value:t.newPrincipalForm.mobile,callback:function(e){t.$set(t.newPrincipalForm,"mobile",t._n(e))},expression:"newPrincipalForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.newPrincipalForm.gender,callback:function(e){t.$set(t.newPrincipalForm,"gender",t._n(e))},expression:"newPrincipalForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"所属店铺",prop:"storeId"}},[o("el-select",{attrs:{placeholder:"请选择店铺"},model:{value:t.newPrincipalForm.storeId,callback:function(e){t.$set(t.newPrincipalForm,"storeId",t._n(e))},expression:"newPrincipalForm.storeId"}},t._l(t.stores,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{model:{value:t.newPrincipalForm.remark,callback:function(e){t.$set(t.newPrincipalForm,"remark","string"==typeof e?e.trim():e)},expression:"newPrincipalForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newPrincipalForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Z=o("Z0/y")(j,M,!1,function(t){o("qfkq")},"data-v-474cd434",null).exports,L=o("gUGA"),U=o.n(L),H={name:"PrincipalDetail",data:function(){return{modPrincipalForm:{id:"",role:"2",name:"",email:"",mobile:"",gender:"",storeId:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的数字",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}],storeId:[{required:!0,message:"所属店铺不能为空",trigger:"change"}]},loading:!1,enterFlag:!0}},computed:{stores:function(){return this.$store.state.store.storesAll}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modUser",e.modPrincipalForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/principal"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})},loadStoreAll:function(){var t=this;this.$store.dispatch("loadStoreAll").then(function(e){t.loading=!1,t.$message.success("查询成功")}).catch(function(t){console.log(t)})}},beforeMount:function(){if(0===this.$store.state.user.users.length)this.$router.push({path:"/principal"});else{this.loadStoreAll();var t=this.$store.getters.getUserById(this.$route.params.id);this.modPrincipalForm.id=t.id,this.modPrincipalForm.name=t.name,this.modPrincipalForm.email=t.email,this.modPrincipalForm.mobile=U()(t.mobile),this.modPrincipalForm.gender="男"===t.gender?1:0,this.modPrincipalForm.storeId=t.storeId,this.modPrincipalForm.remark=t.remark}}},V={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PrincipalDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/principal"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑店铺负责人")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modPrincipalForm",staticClass:"new-form",attrs:{model:t.modPrincipalForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modPrincipalForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modPrincipalForm.name,callback:function(e){t.$set(t.modPrincipalForm,"name","string"==typeof e?e.trim():e)},expression:"modPrincipalForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{model:{value:t.modPrincipalForm.email,callback:function(e){t.$set(t.modPrincipalForm,"email","string"==typeof e?e.trim():e)},expression:"modPrincipalForm.email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{model:{value:t.modPrincipalForm.mobile,callback:function(e){t.$set(t.modPrincipalForm,"mobile",t._n(e))},expression:"modPrincipalForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.modPrincipalForm.gender,callback:function(e){t.$set(t.modPrincipalForm,"gender",t._n(e))},expression:"modPrincipalForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"所属店铺",prop:"storeId"}},[o("el-select",{attrs:{placeholder:"请选择店铺"},model:{value:t.modPrincipalForm.storeId,callback:function(e){t.$set(t.modPrincipalForm,"storeId",t._n(e))},expression:"modPrincipalForm.storeId"}},t._l(t.stores,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{model:{value:t.modPrincipalForm.remark,callback:function(e){t.$set(t.modPrincipalForm,"remark","string"==typeof e?e.trim():e)},expression:"modPrincipalForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modPrincipalForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Y=o("Z0/y")(H,V,!1,function(t){o("M5qF")},"data-v-984c0cdc",null).exports,W={name:"Reception",data:function(){return{receptionSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",role:"3",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.user.pageNum},pageSize:function(){return this.$store.state.user.pageSize},totalCount:function(){return this.$store.state.user.totalCount},totalPages:function(){return this.$store.state.user.totalPages},tableData:function(){return this.$store.state.user.users}},methods:{searchReception:function(t){var e=this;this.loading=!0,"search"===t&&(this.receptionSearch.oldContent=this.receptionSearch.content),this.receptionSearch.type=t,this.$store.dispatch("loadUser",this.receptionSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.receptionSearch.pageNum=t,this.searchReception("page")},handleRemark:function(t,e){return t.remark&&""!==t.remark?t.remark:"暂无备注"},handleEdit:function(t,e){this.$router.push({path:"/reception/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delUser",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchReception("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchReception("search")}},K={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Reception"},[o("el-form",{ref:"receptionSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.receptionSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchReception("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.receptionSearch.content,callback:function(e){t.$set(t.receptionSearch,"content","string"==typeof e?e.trim():e)},expression:"receptionSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchReception("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/reception/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),o("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),o("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),t._v(" "),o("el-table-column",{attrs:{prop:"gender",label:"性别"}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",formatter:t.handleRemark}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150px;",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var X=o("Z0/y")(W,K,!1,function(t){o("NKzO")},"data-v-f01576a0",null).exports,G={name:"ReceptionNew",data:function(){return{newReceptionForm:{role:"3",name:"",email:"",mobile:"",gender:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的数字",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addUser",e.newReceptionForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/reception"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}}},J={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ReceptionNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/reception"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建前台")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newReceptionForm",staticClass:"new-form",attrs:{model:t.newReceptionForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newReceptionForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newReceptionForm.name,callback:function(e){t.$set(t.newReceptionForm,"name","string"==typeof e?e.trim():e)},expression:"newReceptionForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{model:{value:t.newReceptionForm.email,callback:function(e){t.$set(t.newReceptionForm,"email","string"==typeof e?e.trim():e)},expression:"newReceptionForm.email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{model:{value:t.newReceptionForm.mobile,callback:function(e){t.$set(t.newReceptionForm,"mobile",t._n(e))},expression:"newReceptionForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.newReceptionForm.gender,callback:function(e){t.$set(t.newReceptionForm,"gender",t._n(e))},expression:"newReceptionForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{model:{value:t.newReceptionForm.remark,callback:function(e){t.$set(t.newReceptionForm,"remark","string"==typeof e?e.trim():e)},expression:"newReceptionForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newReceptionForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Q=o("Z0/y")(G,J,!1,function(t){o("bA15")},"data-v-4767353e",null).exports,tt={name:"ReceptionDetail",data:function(){return{modReceptionForm:{id:"",role:"3",name:"",email:"",mobile:"",gender:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的数字",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modUser",e.modReceptionForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/reception"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.user.users.length)this.$router.push({path:"/reception"});else{var t=this.$store.getters.getUserById(this.$route.params.id);this.modReceptionForm.id=t.id,this.modReceptionForm.name=t.name,this.modReceptionForm.email=t.email,this.modReceptionForm.mobile=U()(t.mobile),this.modReceptionForm.gender="男"===t.gender?1:0,this.modReceptionForm.storeId=t.storeId,this.modReceptionForm.remark=t.remark}}},et={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ReceptionDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/reception"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑前台")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modReceptionForm",staticClass:"new-form",attrs:{model:t.modReceptionForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modReceptionForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modReceptionForm.name,callback:function(e){t.$set(t.modReceptionForm,"name","string"==typeof e?e.trim():e)},expression:"modReceptionForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{model:{value:t.modReceptionForm.email,callback:function(e){t.$set(t.modReceptionForm,"email","string"==typeof e?e.trim():e)},expression:"modReceptionForm.email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{model:{value:t.modReceptionForm.mobile,callback:function(e){t.$set(t.modReceptionForm,"mobile",t._n(e))},expression:"modReceptionForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.modReceptionForm.gender,callback:function(e){t.$set(t.modReceptionForm,"gender",t._n(e))},expression:"modReceptionForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{model:{value:t.modReceptionForm.remark,callback:function(e){t.$set(t.modReceptionForm,"remark","string"==typeof e?e.trim():e)},expression:"modReceptionForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modReceptionForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var ot=o("Z0/y")(tt,et,!1,function(t){o("M4n3")},"data-v-acf29a0c",null).exports,nt={name:"Operator",data:function(){return{operatorSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",role:"4",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.user.pageNum},pageSize:function(){return this.$store.state.user.pageSize},totalCount:function(){return this.$store.state.user.totalCount},totalPages:function(){return this.$store.state.user.totalPages},tableData:function(){return this.$store.state.user.users}},methods:{searchOperator:function(t){var e=this;this.loading=!0,"search"===t&&(this.operatorSearch.oldContent=this.operatorSearch.content),this.operatorSearch.type=t,this.$store.dispatch("loadUser",this.operatorSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.operatorSearch.pageNum=t,this.searchOperator("page")},handleRemark:function(t,e){return t.remark&&""!==t.remark?t.remark:"暂无备注"},handleEdit:function(t,e){this.$router.push({path:"/operator/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delUser",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchOperator("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchOperator("search")}},rt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Operator"},[o("el-form",{ref:"operatorSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.operatorSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchOperator("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.operatorSearch.content,callback:function(e){t.$set(t.operatorSearch,"content","string"==typeof e?e.trim():e)},expression:"operatorSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchOperator("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/operator/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),o("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),o("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),t._v(" "),o("el-table-column",{attrs:{prop:"gender",label:"性别"}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",formatter:t.handleRemark}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150px;",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var at=o("Z0/y")(nt,rt,!1,function(t){o("aRR8")},"data-v-8121a0aa",null).exports,it={name:"OperatorNew",data:function(){return{newOperatorForm:{role:"4",name:"",email:"",mobile:"",gender:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的数字",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addUser",e.newOperatorForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/operator"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}}},st={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"OperatorNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/operator"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建操作员")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newOperatorForm",staticClass:"new-form",attrs:{model:t.newOperatorForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newOperatorForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newOperatorForm.name,callback:function(e){t.$set(t.newOperatorForm,"name","string"==typeof e?e.trim():e)},expression:"newOperatorForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{model:{value:t.newOperatorForm.email,callback:function(e){t.$set(t.newOperatorForm,"email","string"==typeof e?e.trim():e)},expression:"newOperatorForm.email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{model:{value:t.newOperatorForm.mobile,callback:function(e){t.$set(t.newOperatorForm,"mobile",t._n(e))},expression:"newOperatorForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.newOperatorForm.gender,callback:function(e){t.$set(t.newOperatorForm,"gender",t._n(e))},expression:"newOperatorForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{model:{value:t.newOperatorForm.remark,callback:function(e){t.$set(t.newOperatorForm,"remark","string"==typeof e?e.trim():e)},expression:"newOperatorForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newOperatorForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var lt=o("Z0/y")(it,st,!1,function(t){o("9xDT")},"data-v-ef3a640c",null).exports,ct={name:"OperatorDetail",data:function(){return{modOperatorForm:{id:"",role:"4",name:"",email:"",mobile:"",gender:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的数字",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modUser",e.modOperatorForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/operator"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.user.users.length)this.$router.push({path:"/operator"});else{var t=this.$store.getters.getUserById(this.$route.params.id);this.modOperatorForm.id=t.id,this.modOperatorForm.name=t.name,this.modOperatorForm.email=t.email,this.modOperatorForm.mobile=U()(t.mobile),this.modOperatorForm.gender="男"===t.gender?1:0,this.modOperatorForm.storeId=t.storeId,this.modOperatorForm.remark=t.remark}}},ut={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"OperatorDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/operator"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑操作员")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modOperatorForm",staticClass:"new-form",attrs:{model:t.modOperatorForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modOperatorForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modOperatorForm.name,callback:function(e){t.$set(t.modOperatorForm,"name","string"==typeof e?e.trim():e)},expression:"modOperatorForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{model:{value:t.modOperatorForm.email,callback:function(e){t.$set(t.modOperatorForm,"email","string"==typeof e?e.trim():e)},expression:"modOperatorForm.email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{model:{value:t.modOperatorForm.mobile,callback:function(e){t.$set(t.modOperatorForm,"mobile",t._n(e))},expression:"modOperatorForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.modOperatorForm.gender,callback:function(e){t.$set(t.modOperatorForm,"gender",t._n(e))},expression:"modOperatorForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{model:{value:t.modOperatorForm.remark,callback:function(e){t.$set(t.modOperatorForm,"remark","string"==typeof e?e.trim():e)},expression:"modOperatorForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modOperatorForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var mt=o("Z0/y")(ct,ut,!1,function(t){o("Mwtr")},"data-v-1ef11369",null).exports,pt={name:"StockType",data:function(){return{stockTypeSearch:{content:"",oldContent:"",pageNum:1,pageSize:10,type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.stockType.pageNum},pageSize:function(){return this.$store.state.stockType.pageSize},totalCount:function(){return this.$store.state.stockType.totalCount},totalPages:function(){return this.$store.state.stockType.totalPages},tableData:function(){return this.$store.state.stockType.stockTypes}},methods:{searchStockType:function(t){var e=this;this.loading=!0,"search"===t&&(this.stockTypeSearch.oldContent=this.stockTypeSearch.content),this.stockTypeSearch.type=t,this.$store.dispatch("loadStockType",this.stockTypeSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.stockTypeSearch.pageNum=t,this.searchStockType("page")},handleEdit:function(t,e){this.$router.push({path:"/stock-type/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delStockType",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchStockType("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchStockType("search")}},dt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockType"},[o("el-form",{ref:"stockTypeSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.stockTypeSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchStockType("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.stockTypeSearch.content,callback:function(e){t.$set(t.stockTypeSearch,"content","string"==typeof e?e.trim():e)},expression:"stockTypeSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchStockType("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/stock-type/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150px;",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var ft=o("Z0/y")(pt,dt,!1,function(t){o("Uf2R")},"data-v-5c7999e9",null).exports,gt={name:"StockTypeNew",data:function(){return{newStockTypeForm:{name:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addStockType",e.newStockTypeForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/stock-type"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}}},ht={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockTypeNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stock-type"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建库存分类")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newStockTypeForm",staticClass:"new-form",attrs:{model:t.newStockTypeForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newStockTypeForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.newStockTypeForm.name,callback:function(e){t.$set(t.newStockTypeForm,"name","string"==typeof e?e.trim():e)},expression:"newStockTypeForm.name"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newStockTypeForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var vt=o("Z0/y")(gt,ht,!1,function(t){o("gzmR")},"data-v-0436c10c",null).exports,yt={name:"StockTypeDetail",data:function(){return{modStockTypeForm:{id:"",name:""},rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modStockType",e.modStockTypeForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/stock-type"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.stockType.stockTypes.length)this.$router.push({path:"/stock-type"});else{var t=this.$store.getters.getStockTypeById(this.$route.params.id);this.modStockTypeForm.id=t.id,this.modStockTypeForm.name=t.name}}},bt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockTypeDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stock-type"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑库存分类")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modStockTypeForm",staticClass:"new-form",attrs:{model:t.modStockTypeForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modStockTypeForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.modStockTypeForm.name,callback:function(e){t.$set(t.modStockTypeForm,"name","string"==typeof e?e.trim():e)},expression:"modStockTypeForm.name"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modStockTypeForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var kt=o("Z0/y")(yt,bt,!1,function(t){o("ly2L")},"data-v-1e508cc3",null).exports,_t={name:"Stock",data:function(){return{stockSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.stock.pageNum},pageSize:function(){return this.$store.state.stock.pageSize},totalCount:function(){return this.$store.state.stock.totalCount},totalPages:function(){return this.$store.state.stock.totalPages},tableData:function(){return this.$store.state.stock.stocks}},methods:{searchStock:function(t){var e=this;this.loading=!0,"search"===t&&(this.stockSearch.oldContent=this.stockSearch.content),this.stockSearch.type=t,this.$store.dispatch("loadStock",this.stockSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.stockSearch.pageNum=t,this.searchStock("page")},handleNew:function(t,e){this.$router.push({path:"/stock/newamount/"+e.id})},handleEdit:function(t,e){this.$router.push({path:"/stock/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delStock",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchStock("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchStock("search")}},St={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Stock"},[o("el-form",{ref:"stockSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.stockSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchStock("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.stockSearch.content,callback:function(e){t.$set(t.stockSearch,"content","string"==typeof e?e.trim():e)},expression:"stockSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchStock("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/stock/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"code",label:"编码"}}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),o("el-table-column",{attrs:{prop:"stockTypeName",label:"库存分类"}}),t._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"计量单位"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleNew(e.$index,e.row)}}},[t._v("首次进货")]),t._v(" "),o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var Ft=o("Z0/y")(_t,St,!1,function(t){o("cI0C")},"data-v-308c71fa",null).exports,wt={name:"StockNew",data:function(){return{newStockForm:{name:"",code:"",stockTypeId:"",unitName:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],code:[{required:!0,message:"编码不能为空",trigger:"blur"},{type:"number",message:"编码必须是数字",trigger:"blur"}],stockTypeId:[{required:!0,message:"库存分类不能为空",trigger:"blur"},{type:"number",message:"库存分类必须是数字",trigger:"blur"}],unitName:[{required:!0,message:"计量单位名称不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},computed:{stockTypes:function(){return this.$store.state.stockType.stockTypesAll}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addStock",e.newStockForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/stock"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})},loadStockTypeAll:function(){var t=this;this.$store.dispatch("loadStockTypeAll").then(function(e){t.loading=!1,t.$message.success("查询成功")}).catch(function(t){console.log(t)})}},beforeMount:function(){this.loadStockTypeAll()}},$t={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stock"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建库存")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newStockForm",staticClass:"new-form",attrs:{model:t.newStockForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newStockForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newStockForm.name,callback:function(e){t.$set(t.newStockForm,"name","string"==typeof e?e.trim():e)},expression:"newStockForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"编码",prop:"code"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newStockForm.code,callback:function(e){t.$set(t.newStockForm,"code",t._n(e))},expression:"newStockForm.code"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所属库存分类",prop:"stockTypeId"}},[o("el-select",{attrs:{placeholder:"请选择库存分类"},model:{value:t.newStockForm.stockTypeId,callback:function(e){t.$set(t.newStockForm,"stockTypeId",t._n(e))},expression:"newStockForm.stockTypeId"}},t._l(t.stockTypes,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"计量单位名称",prop:"unitName"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newStockForm.unitName,callback:function(e){t.$set(t.newStockForm,"unitName","string"==typeof e?e.trim():e)},expression:"newStockForm.unitName"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newStockForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ct=o("Z0/y")(wt,$t,!1,function(t){o("lfpD")},"data-v-7b6be4f1",null).exports,xt={name:"StockDetail",data:function(){return{modStockForm:{id:"",name:"",code:"",stockTypeId:"",unitName:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],code:[{required:!0,message:"编码不能为空",trigger:"blur"},{type:"number",message:"编码必须是数字",trigger:"blur"}],stockTypeId:[{required:!0,message:"库存分类不能为空",trigger:"blur"},{type:"number",message:"库存分类必须是数字",trigger:"blur"}],unitName:[{required:!0,message:"计量单位名称不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},computed:{stockTypes:function(){return this.$store.state.stockType.stockTypesAll}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modStock",e.modStockForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/stock"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})},loadStockTypeAll:function(){var t=this;this.$store.dispatch("loadStockTypeAll").then(function(e){t.loading=!1,t.$message.success("查询成功")}).catch(function(t){console.log(t)})}},beforeMount:function(){if(0===this.$store.state.stock.stocks.length)this.$router.push({path:"/stock"});else{this.loadStockTypeAll();var t=this.$store.getters.getStockById(this.$route.params.id);this.modStockForm.id=t.id,this.modStockForm.name=t.name,this.modStockForm.code=U()(t.code),this.modStockForm.stockTypeId=t.stockTypeId,this.modStockForm.unitName=t.unitName}}},Pt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stock"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑库存")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modStockForm",staticClass:"new-form",attrs:{model:t.modStockForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modStockForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modStockForm.name,callback:function(e){t.$set(t.modStockForm,"name","string"==typeof e?e.trim():e)},expression:"modStockForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"编码",prop:"code"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modStockForm.code,callback:function(e){t.$set(t.modStockForm,"code",t._n(e))},expression:"modStockForm.code"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所属库存分类",prop:"stockTypeId"}},[o("el-select",{attrs:{placeholder:"请选择库存分类"},model:{value:t.modStockForm.stockTypeId,callback:function(e){t.$set(t.modStockForm,"stockTypeId",t._n(e))},expression:"modStockForm.stockTypeId"}},t._l(t.stockTypes,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"计量单位名称",prop:"unitName"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modStockForm.unitName,callback:function(e){t.$set(t.modStockForm,"unitName","string"==typeof e?e.trim():e)},expression:"modStockForm.unitName"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modStockForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Tt=o("Z0/y")(xt,Pt,!1,function(t){o("q7qj")},"data-v-23290533",null).exports,At={name:"StockNewAmount",data:function(){return{newStockAmountForm:{stockId:"",amount:""},rules:{amount:[{required:!0,message:"进货数量不能为空",trigger:"blur"},{type:"number",message:"进货数量必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addStockAmount",e.newStockAmountForm).then(function(t){0===t.code&&(e.$message.success("首次进货成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/stock"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.stock.stocks.length)this.$router.push({path:"/stock"});else{var t=this.$store.getters.getStockById(this.$route.params.id);this.newStockAmountForm.stockId=t.id}}},Nt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockNewAmount"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stock"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("首次进货")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newStockAmountForm",staticClass:"new-form",attrs:{model:t.newStockAmountForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newStockAmountForm")}}},[o("el-form-item",{attrs:{label:"进货数量",prop:"amount"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.newStockAmountForm.amount,callback:function(e){t.$set(t.newStockAmountForm,"amount",t._n(e))},expression:"newStockAmountForm.amount"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newStockAmountForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var zt=o("Z0/y")(At,Nt,!1,function(t){o("Iu/K")},"data-v-68de5c2a",null).exports,Et={name:"StockAmount",data:function(){return{stockAmountSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.stockAmount.pageNum},pageSize:function(){return this.$store.state.stockAmount.pageSize},totalCount:function(){return this.$store.state.stockAmount.totalCount},totalPages:function(){return this.$store.state.stockAmount.totalPages},tableData:function(){return this.$store.state.stockAmount.stockAmounts}},methods:{searchStockAmount:function(t){var e=this;this.loading=!0,"search"===t&&(this.stockAmountSearch.oldContent=this.stockAmountSearch.content),this.stockAmountSearch.type=t,this.$store.dispatch("loadStockAmount",this.stockAmountSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.stockAmountSearch.pageNum=t,this.searchStockAmount("page")},handleSupply:function(t,e){console.log(e.stockAmountId),this.$router.push({path:"/stockamountsupply/"+e.stockAmountId})},handleEdit:function(t,e){this.$router.push({path:"/stockamountdetail/"+e.stockAmountId})}},beforeMount:function(){this.searchStockAmount("search")}},Rt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockAmount"},[o("el-form",{ref:"stockAmountSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.stockAmountSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchStockAmount("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.stockAmountSearch.content,callback:function(e){t.$set(t.stockAmountSearch,"content","string"==typeof e?e.trim():e)},expression:"stockAmountSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchStockAmount("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"code",label:"编码"}}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),o("el-table-column",{attrs:{prop:"stockTypeName",label:"库存分类"}}),t._v(" "),o("el-table-column",{attrs:{prop:"amount",label:"数量"}}),t._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"计量单位"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){t.handleSupply(e.$index,e.row)}}},[t._v("补货")]),t._v(" "),o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var It=o("Z0/y")(Et,Rt,!1,function(t){o("fKO3")},"data-v-331590d9",null).exports,Ot={name:"StockAmountSupply",data:function(){return{supplyStockAmountForm:{id:"",amount:""},rules:{amount:[{required:!0,message:"进货数量不能为空",trigger:"blur"},{type:"number",message:"进货数量必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("supplyStockAmount",e.supplyStockAmountForm).then(function(t){0===t.code&&(e.$message.success("补货成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/stockamount"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.stockAmount.stockAmounts.length)this.$router.push({path:"/stockAmount"});else{var t=this.$store.getters.getStockAmountBySAId(this.$route.params.id);this.supplyStockAmountForm.id=t.stockAmountId}}},qt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockAmountSupply"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stockamount"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("补货")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"supplyStockAmountForm",staticClass:"new-form",attrs:{model:t.supplyStockAmountForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("supplyStockAmountForm")}}},[o("el-form-item",{attrs:{label:"补货数量",prop:"amount"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.supplyStockAmountForm.amount,callback:function(e){t.$set(t.supplyStockAmountForm,"amount",t._n(e))},expression:"supplyStockAmountForm.amount"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("supplyStockAmountForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Bt=o("Z0/y")(Ot,qt,!1,function(t){o("vr2N")},"data-v-f4d4c4b0",null).exports,Dt={name:"StockAmountSupply",data:function(){return{modStockAmountForm:{id:"",amount:""},rules:{amount:[{required:!0,message:"数量不能为空",trigger:"blur"},{type:"number",message:"数量必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modStockAmount",e.modStockAmountForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/stockamount"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.stockAmount.stockAmounts.length)this.$router.push({path:"/stockamount"});else{var t=this.$store.getters.getStockAmountBySAId(this.$route.params.id);this.modStockAmountForm.id=t.stockAmountId,this.modStockAmountForm.amount=t.amount}}},jt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"StockAmountSupply"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stockamount"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modStockAmountForm",staticClass:"new-form",attrs:{model:t.modStockAmountForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modStockAmountForm")}}},[o("el-form-item",{attrs:{label:"数量",prop:"amount"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.modStockAmountForm.amount,callback:function(e){t.$set(t.modStockAmountForm,"amount",t._n(e))},expression:"modStockAmountForm.amount"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modStockAmountForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Mt=o("Z0/y")(Dt,jt,!1,function(t){o("oeyV")},"data-v-068e5316",null).exports,Zt={name:"ProductType",data:function(){return{productTypeSearch:{content:"",oldContent:"",pageNum:1,pageSize:10,type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.productType.pageNum},pageSize:function(){return this.$store.state.productType.pageSize},totalCount:function(){return this.$store.state.productType.totalCount},totalPages:function(){return this.$store.state.productType.totalPages},tableData:function(){return this.$store.state.productType.productTypes}},methods:{searchProductType:function(t){var e=this;this.loading=!0,"search"===t&&(this.productTypeSearch.oldContent=this.productTypeSearch.content),this.productTypeSearch.type=t,this.$store.dispatch("loadProductType",this.productTypeSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.productTypeSearch.pageNum=t,this.searchProductType("page")},handleEdit:function(t,e){this.$router.push({path:"/productType/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delProductType",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchProductType("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchProductType("search")}},Lt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductType"},[o("el-form",{ref:"productTypeSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.productTypeSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchProductType("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.productTypeSearch.content,callback:function(e){t.$set(t.productTypeSearch,"content","string"==typeof e?e.trim():e)},expression:"productTypeSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchProductType("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/productType/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150px;",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var Ut=o("Z0/y")(Zt,Lt,!1,function(t){o("q8Ou")},"data-v-332efa1f",null).exports,Ht={name:"ProductTypeNew",data:function(){return{newProductTypeForm:{name:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addProductType",e.newProductTypeForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/producttype"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}}},Vt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductTypeNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/producttype"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建产品分类")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newProductTypeForm",staticClass:"new-form",attrs:{model:t.newProductTypeForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newProductTypeForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.newProductTypeForm.name,callback:function(e){t.$set(t.newProductTypeForm,"name","string"==typeof e?e.trim():e)},expression:"newProductTypeForm.name"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newProductTypeForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Yt=o("Z0/y")(Ht,Vt,!1,function(t){o("jVIh")},"data-v-3d07d5d4",null).exports,Wt={name:"ProductTypeDetail",data:function(){return{modProductTypeForm:{id:"",name:""},rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modProductType",e.modProductTypeForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/producttype"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.productType.productTypes.length)this.$router.push({path:"/producttype"});else{var t=this.$store.getters.getProductTypeById(this.$route.params.id);this.modProductTypeForm.id=t.id,this.modProductTypeForm.name=t.name}}},Kt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductTypeDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/producttype"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑产品分类")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modProductTypeForm",staticClass:"new-form",attrs:{model:t.modProductTypeForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modProductTypeForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.modProductTypeForm.name,callback:function(e){t.$set(t.modProductTypeForm,"name","string"==typeof e?e.trim():e)},expression:"modProductTypeForm.name"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modProductTypeForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Xt=o("Z0/y")(Wt,Kt,!1,function(t){o("EqDn")},"data-v-2a149141",null).exports,Gt={name:"Product",data:function(){return{productSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.product.pageNum},pageSize:function(){return this.$store.state.product.pageSize},totalCount:function(){return this.$store.state.product.totalCount},totalPages:function(){return this.$store.state.product.totalPages},tableData:function(){return this.$store.state.product.products}},methods:{searchProduct:function(t){var e=this;this.loading=!0,"search"===t&&(this.productSearch.oldContent=this.productSearch.content),this.productSearch.type=t,this.$store.dispatch("loadProduct",this.productSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.productSearch.pageNum=t,this.searchProduct("page")},handleNew:function(t,e){this.$router.push({path:"/product/newamount/"+e.id})},handleEdit:function(t,e){this.$router.push({path:"/product/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delProduct",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchProduct("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchProduct("search")}},Jt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Product"},[o("el-form",{ref:"productSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.productSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchProduct("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.productSearch.content,callback:function(e){t.$set(t.productSearch,"content","string"==typeof e?e.trim():e)},expression:"productSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchProduct("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/product/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"code",label:"编码"}}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productTypeName",label:"产品分类"}}),t._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"计量单位"}}),t._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"单价"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleNew(e.$index,e.row)}}},[t._v("首次进货")]),t._v(" "),o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var Qt=o("Z0/y")(Gt,Jt,!1,function(t){o("7IKo")},"data-v-2e2c2558",null).exports,te={name:"ProductNew",data:function(){return{newProductForm:{name:"",code:"",productTypeId:"",unitName:"",unitPrice:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],code:[{required:!0,message:"编码不能为空",trigger:"blur"},{type:"number",message:"编码必须是数字",trigger:"blur"}],productTypeId:[{required:!0,message:"产品分类不能为空",trigger:"blur"},{type:"number",message:"产品分类必须是数字",trigger:"blur"}],unitName:[{required:!0,message:"计量单位名称不能为空",trigger:"blur"}],unitPrice:[{required:!0,message:"单价不能为空",trigger:"blur"},{type:"number",message:"单价必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},computed:{productTypes:function(){return this.$store.state.productType.productTypesAll}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addProduct",e.newProductForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/product"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})},loadProductTypeAll:function(){var t=this;this.$store.dispatch("loadProductTypeAll").then(function(e){t.loading=!1,t.$message.success("查询成功")}).catch(function(t){console.log(t)})}},beforeMount:function(){this.loadProductTypeAll()}},ee={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stock"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建产品")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newProductForm",staticClass:"new-form",attrs:{model:t.newProductForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newProductForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newProductForm.name,callback:function(e){t.$set(t.newProductForm,"name","string"==typeof e?e.trim():e)},expression:"newProductForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"编码",prop:"code"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newProductForm.code,callback:function(e){t.$set(t.newProductForm,"code",t._n(e))},expression:"newProductForm.code"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所属产品分类",prop:"productTypeId"}},[o("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:t.newProductForm.productTypeId,callback:function(e){t.$set(t.newProductForm,"productTypeId",t._n(e))},expression:"newProductForm.productTypeId"}},t._l(t.productTypes,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"计量单位名称",prop:"unitName"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newProductForm.unitName,callback:function(e){t.$set(t.newProductForm,"unitName","string"==typeof e?e.trim():e)},expression:"newProductForm.unitName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"单价(元)",prop:"unitPrice"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newProductForm.unitPrice,callback:function(e){t.$set(t.newProductForm,"unitPrice","string"==typeof e?e.trim():e)},expression:"newProductForm.unitPrice"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newProductForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var oe=o("Z0/y")(te,ee,!1,function(t){o("5/iS")},"data-v-3ea546b9",null).exports,ne={name:"ProductDetail",data:function(){return{modProductForm:{id:"",name:"",code:"",productTypeId:"",unitName:"",unitPrice:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],code:[{required:!0,message:"编码不能为空",trigger:"blur"},{type:"number",message:"编码必须是数字",trigger:"blur"}],stockTypeId:[{required:!0,message:"产品分类不能为空",trigger:"blur"},{type:"number",message:"产品分类必须是数字",trigger:"blur"}],unitName:[{required:!0,message:"计量单位名称不能为空",trigger:"blur"}],unitPrice:[{required:!0,message:"单价不能为空",trigger:"blur"},{type:"number",message:"单价必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},computed:{productTypes:function(){return this.$store.state.productType.productTypesAll}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modProduct",e.modProductForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/product"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})},loadProductTypeAll:function(){var t=this;this.$store.dispatch("loadProductTypeAll").then(function(e){t.loading=!1,t.$message.success("查询成功")}).catch(function(t){console.log(t)})}},beforeMount:function(){if(0===this.$store.state.product.products.length)this.$router.push({path:"/product"});else{this.loadProductTypeAll();var t=this.$store.getters.getProductById(this.$route.params.id);this.modProductForm.id=t.id,this.modProductForm.name=t.name,this.modProductForm.code=U()(t.code),this.modProductForm.productTypeId=t.productTypeId,this.modProductForm.unitName=t.unitName,this.modProductForm.unitPrice=t.unitPrice}}},re={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/product"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑产品")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modProductForm",staticClass:"new-form",attrs:{model:t.modProductForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modProductForm")}}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modProductForm.name,callback:function(e){t.$set(t.modProductForm,"name","string"==typeof e?e.trim():e)},expression:"modProductForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"编码",prop:"code"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modProductForm.code,callback:function(e){t.$set(t.modProductForm,"code",t._n(e))},expression:"modProductForm.code"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所属产品分类",prop:"productTypeId"}},[o("el-select",{attrs:{placeholder:"请选择产品分类"},model:{value:t.modProductForm.productTypeId,callback:function(e){t.$set(t.modProductForm,"productTypeId",t._n(e))},expression:"modProductForm.productTypeId"}},t._l(t.productTypes,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"计量单位名称",prop:"unitName"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modProductForm.unitName,callback:function(e){t.$set(t.modProductForm,"unitName","string"==typeof e?e.trim():e)},expression:"modProductForm.unitName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"单价(元)",prop:"unitName"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modProductForm.unitPrice,callback:function(e){t.$set(t.modProductForm,"unitPrice","string"==typeof e?e.trim():e)},expression:"modProductForm.unitPrice"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modProductForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var ae=o("Z0/y")(ne,re,!1,function(t){o("Z2/d")},"data-v-26f83330",null).exports,ie={name:"ProductNewAmount",data:function(){return{newProductAmountForm:{productId:"",amount:""},rules:{amount:[{required:!0,message:"进货数量不能为空",trigger:"blur"},{type:"number",message:"进货数量必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("addProductAmount",e.newProductAmountForm).then(function(t){0===t.code&&(e.$message.success("首次进货成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/product"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.product.products.length)this.$router.push({path:"/product"});else{var t=this.$store.getters.getProductById(this.$route.params.id);this.newProductAmountForm.productId=t.id}}},se={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductNewAmount"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/product"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("首次进货")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newProductAmountForm",staticClass:"new-form",attrs:{model:t.newProductAmountForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newProductAmountForm")}}},[o("el-form-item",{attrs:{label:"进货数量",prop:"amount"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.newProductAmountForm.amount,callback:function(e){t.$set(t.newProductAmountForm,"amount",t._n(e))},expression:"newProductAmountForm.amount"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newProductAmountForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var le=o("Z0/y")(ie,se,!1,function(t){o("aV4Z")},"data-v-7ac130e7",null).exports,ce={name:"ProductAmount",data:function(){return{productAmountSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.productAmount.pageNum},pageSize:function(){return this.$store.state.productAmount.pageSize},totalCount:function(){return this.$store.state.productAmount.totalCount},totalPages:function(){return this.$store.state.productAmount.totalPages},tableData:function(){return this.$store.state.productAmount.productAmounts}},methods:{searchProductAmount:function(t){var e=this;this.loading=!0,"search"===t&&(this.productAmountSearch.oldContent=this.productAmountSearch.content),this.productAmountSearch.type=t,this.$store.dispatch("loadProductAmount",this.productAmountSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.productAmountSearch.pageNum=t,this.searchProductAmount("page")},handleSupply:function(t,e){this.$router.push({path:"/productamountsupply/"+e.productAmountId})},handleEdit:function(t,e){this.$router.push({path:"/productamountdetail/"+e.productAmountId})}},beforeMount:function(){this.searchProductAmount("search")}},ue={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductAmount"},[o("el-form",{ref:"productAmountSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.productAmountSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchProductAmount("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.productAmountSearch.content,callback:function(e){t.$set(t.productAmountSearch,"content","string"==typeof e?e.trim():e)},expression:"productAmountSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchProductAmount("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"code",label:"编码"}}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),o("el-table-column",{attrs:{prop:"productTypeName",label:"产品分类"}}),t._v(" "),o("el-table-column",{attrs:{prop:"amount",label:"数量"}}),t._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"计量单位"}}),t._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"单价"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){t.handleSupply(e.$index,e.row)}}},[t._v("补货")]),t._v(" "),o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var me=o("Z0/y")(ce,ue,!1,function(t){o("XPIX")},"data-v-8a4fff62",null).exports,pe={name:"ProductAmountSupply",data:function(){return{supplyProductAmountForm:{id:"",amount:""},rules:{amount:[{required:!0,message:"进货数量不能为空",trigger:"blur"},{type:"number",message:"进货数量必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("supplyProductAmount",e.supplyProductAmountForm).then(function(t){0===t.code&&(e.$message.success("补货成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/productamount"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.productAmount.productAmounts.length)this.$router.push({path:"/productAmount"});else{var t=this.$store.getters.getProductAmountByPAId(this.$route.params.id);this.supplyProductAmountForm.id=t.productAmountId}}},de={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductAmountSupply"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/productamount"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("补货")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"supplyProductAmountForm",staticClass:"new-form",attrs:{model:t.supplyProductAmountForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("supplyProductAmountForm")}}},[o("el-form-item",{attrs:{label:"补货数量",prop:"amount"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.supplyProductAmountForm.amount,callback:function(e){t.$set(t.supplyProductAmountForm,"amount",t._n(e))},expression:"supplyProductAmountForm.amount"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("supplyProductAmountForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var fe=o("Z0/y")(pe,de,!1,function(t){o("YPg6")},"data-v-48bba6d2",null).exports,ge={name:"ProductAmountSupply",data:function(){return{modProductAmountForm:{id:"",amount:""},rules:{amount:[{required:!0,message:"数量不能为空",trigger:"blur"},{type:"number",message:"数量必须是数字",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.$store.dispatch("modProductAmount",e.modProductAmountForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/productamount"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.productAmount.productAmounts.length)this.$router.push({path:"/productamount"});else{var t=this.$store.getters.getProductAmountByPAId(this.$route.params.id);this.modProductAmountForm.id=t.productAmountId,this.modProductAmountForm.amount=t.amount}}},he={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProductAmountSupply"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/stockamount"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modProductAmountForm",staticClass:"new-form",attrs:{model:t.modProductAmountForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modProductAmountForm")}}},[o("el-form-item",{attrs:{label:"数量",prop:"amount"}},[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{autofocus:!0},model:{value:t.modProductAmountForm.amount,callback:function(e){t.$set(t.modProductAmountForm,"amount",t._n(e))},expression:"modProductAmountForm.amount"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modProductAmountForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var ve=o("Z0/y")(ge,he,!1,function(t){o("O6/x")},"data-v-4b487fbc",null).exports,ye={name:"Customer",data:function(){return{customerSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.customer.pageNum},pageSize:function(){return this.$store.state.customer.pageSize},totalCount:function(){return this.$store.state.customer.totalCount},totalPages:function(){return this.$store.state.customer.totalPages},tableData:function(){return this.$store.state.customer.customers}},methods:{searchCustomer:function(t){var e=this;this.loading=!0,"search"===t&&(this.customerSearch.oldContent=this.customerSearch.content),this.customerSearch.type=t,this.$store.dispatch("loadCustomer",this.customerSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.customerSearch.pageNum=t,this.searchStock("page")},toDate:function(t,e){return this.toDatetimeDay(t.birthday)},handleSource:function(t,e){return t.source&&""!==t.source?t.source:"暂无来源"},handleRemark:function(t,e){return t.remark&&""!==t.remark?t.remark:"暂无备注"},handleEdit:function(t,e){this.$router.push({path:"/customer/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delCustomer",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchCustomer("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchCustomer("search")}},be={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Customer"},[o("el-form",{ref:"customerSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.customerSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchCustomer("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.customerSearch.content,callback:function(e){t.$set(t.customerSearch,"content","string"==typeof e?e.trim():e)},expression:"customerSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchCustomer("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/customer/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),o("el-table-column",{attrs:{prop:"gender",label:"性别"}}),t._v(" "),o("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),t._v(" "),o("el-table-column",{attrs:{prop:"birthday",label:"生日",formatter:t.toDate}}),t._v(" "),o("el-table-column",{attrs:{prop:"source",label:"来源",formatter:t.handleSource}}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",formatter:t.handleRemark}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var ke=o("Z0/y")(ye,be,!1,function(t){o("0b6Y")},"data-v-0a5662da",null).exports,_e={name:"CustomerNew",data:function(){return{newCustomerForm:{name:"",gender:"",mobile:"",birthday:"",source:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"blur"},{type:"number",message:"性别必须是数字",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的手机",trigger:"blur"}],birthday:[{required:!0,message:"生日不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.newCustomerForm.birthday=e.toTimeStamp(e.newCustomerForm.birthday),e.$store.dispatch("addCustomer",e.newCustomerForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/customer"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}}},Se={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"CustomerNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/customer"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建客户")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newCustomerForm",staticClass:"new-form",attrs:{model:t.newCustomerForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newCustomerForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newCustomerForm.name,callback:function(e){t.$set(t.newCustomerForm,"name","string"==typeof e?e.trim():e)},expression:"newCustomerForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.newCustomerForm.gender,callback:function(e){t.$set(t.newCustomerForm,"gender",t._n(e))},expression:"newCustomerForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{attrs:{placeholder:"请输入手机"},model:{value:t.newCustomerForm.mobile,callback:function(e){t.$set(t.newCustomerForm,"mobile",t._n(e))},expression:"newCustomerForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[o("el-date-picker",{attrs:{align:"center",type:"date",editable:!1,placeholder:"选择日期"},model:{value:t.newCustomerForm.birthday,callback:function(e){t.$set(t.newCustomerForm,"birthday",e)},expression:"newCustomerForm.birthday"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"来源"}},[o("el-input",{attrs:{placeholder:"请输入来源"},model:{value:t.newCustomerForm.source,callback:function(e){t.$set(t.newCustomerForm,"source","string"==typeof e?e.trim():e)},expression:"newCustomerForm.source"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:t.newCustomerForm.remark,callback:function(e){t.$set(t.newCustomerForm,"remark","string"==typeof e?e.trim():e)},expression:"newCustomerForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newCustomerForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Fe=o("Z0/y")(_e,Se,!1,function(t){o("eWD8")},"data-v-48163cb8",null).exports,we={name:"CustomerDetail",data:function(){return{modCustomerForm:{id:"",name:"",gender:"",mobile:"",birthday:"",source:"",remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"change"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的手机",trigger:"blur"}],birthday:[{required:!0,message:"生日不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.modCustomerForm.birthday=e.toTimeStamp(e.modCustomerForm.birthday),e.$store.dispatch("modCustomer",e.modCustomerForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/customer"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.customer.customers.length)this.$router.push({path:"/customer"});else{var t=this.$store.getters.getCustomerById(this.$route.params.id);this.modCustomerForm.id=t.id,this.modCustomerForm.name=t.name,this.modCustomerForm.gender="男"===t.gender?1:0,this.modCustomerForm.mobile=U()(t.mobile),this.modCustomerForm.birthday=t.birthday,this.modCustomerForm.source=t.source,this.modCustomerForm.remark=t.remark}}},$e={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"CustomerDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/customer"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑店铺负责人")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modCustomerForm",staticClass:"new-form",attrs:{model:t.modCustomerForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modCustomerForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modCustomerForm.name,callback:function(e){t.$set(t.modCustomerForm,"name","string"==typeof e?e.trim():e)},expression:"modCustomerForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.modCustomerForm.gender,callback:function(e){t.$set(t.modCustomerForm,"gender",t._n(e))},expression:"modCustomerForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{attrs:{placeholder:"请输入手机"},model:{value:t.modCustomerForm.mobile,callback:function(e){t.$set(t.modCustomerForm,"mobile",t._n(e))},expression:"modCustomerForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[o("el-date-picker",{attrs:{align:"center",type:"date",editable:!1,placeholder:"选择日期"},model:{value:t.modCustomerForm.birthday,callback:function(e){t.$set(t.modCustomerForm,"birthday",e)},expression:"modCustomerForm.birthday"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"来源"}},[o("el-input",{attrs:{placeholder:"请输入来源"},model:{value:t.modCustomerForm.source,callback:function(e){t.$set(t.modCustomerForm,"source","string"==typeof e?e.trim():e)},expression:"modCustomerForm.source"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:t.modCustomerForm.remark,callback:function(e){t.$set(t.modCustomerForm,"remark","string"==typeof e?e.trim():e)},expression:"modCustomerForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modCustomerForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ce=o("Z0/y")(we,$e,!1,function(t){o("edvU")},"data-v-d6ba2f2a",null).exports,xe={name:"Employee",data:function(){return{employeeSearch:{content:"",oldContent:"",pageNum:"1",pageSize:"10",type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.employee.pageNum},pageSize:function(){return this.$store.state.employee.pageSize},totalCount:function(){return this.$store.state.employee.totalCount},totalPages:function(){return this.$store.state.employee.totalPages},tableData:function(){return this.$store.state.employee.employees}},methods:{searchEmployee:function(t){var e=this;this.loading=!0,"search"===t&&(this.employeeSearch.oldContent=this.employeeSearch.content),this.employeeSearch.type=t,this.$store.dispatch("loadEmployee",this.employeeSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.employeeSearch.pageNum=t,this.searchEmployee("page")},handleRemark:function(t,e){return t.remark&&""!==t.remark?t.remark:"暂无备注"},handleEdit:function(t,e){this.$router.push({path:"/employee/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delEmployee",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchEmployee("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchEmployee("search")}},Pe={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Employee"},[o("el-form",{ref:"employeeSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.employeeSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchEmployee("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.employeeSearch.content,callback:function(e){t.$set(t.employeeSearch,"content","string"==typeof e?e.trim():e)},expression:"employeeSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchEmployee("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/employee/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1)],1)},staticRenderFns:[]};var Te=o("Z0/y")(xe,Pe,!1,function(t){o("YVSn")},"data-v-9ef1f888",null).exports,Ae={name:"EmployeeNew",data:function(){return{newEmployeeForm:{name:"",gender:"",mobile:"",entryTime:"",workTypes:[],remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],workTypes:[{name:"美容师",value:"1"},{name:"美甲师",value:"2"},{name:"美睫师",value:"3"},{name:"美容咨询师",value:"4"},{name:"总监",value:"5"}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"blur"},{type:"number",message:"性别必须是数字",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的手机",trigger:"blur"}],entryTime:[{required:!0,message:"入职日期不能为空",trigger:"blur"}],workTypes:[{required:!0,message:"工种不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.newEmployeeForm.entryTime=e.toTimeStamp(e.newEmployeeForm.entryTime),e.$store.dispatch("addEmployee",e.newEmployeeForm).then(function(t){0===t.code&&(e.$message.success("添加成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/employee"})},1e3))}).catch(function(t){e.loading=!1,console.log(t)})})}}},Ne={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"EmployeeNew"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/employee"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("新建员工")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"newEmployeeForm",staticClass:"new-form",attrs:{model:t.newEmployeeForm,"label-width":"110px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("newEmployeeForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.newEmployeeForm.name,callback:function(e){t.$set(t.newEmployeeForm,"name","string"==typeof e?e.trim():e)},expression:"newEmployeeForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.newEmployeeForm.gender,callback:function(e){t.$set(t.newEmployeeForm,"gender",t._n(e))},expression:"newEmployeeForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{attrs:{placeholder:"请输入手机"},model:{value:t.newEmployeeForm.mobile,callback:function(e){t.$set(t.newEmployeeForm,"mobile",t._n(e))},expression:"newEmployeeForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"入职日期",prop:"entryTime"}},[o("el-date-picker",{attrs:{align:"center",type:"date",editable:!1,placeholder:"选择日期"},model:{value:t.newEmployeeForm.entryTime,callback:function(e){t.$set(t.newEmployeeForm,"entryTime",e)},expression:"newEmployeeForm.entryTime"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"工种",prop:"workTypes"}},[o("el-checkbox-group",{model:{value:t.newEmployeeForm.workTypes,callback:function(e){t.$set(t.newEmployeeForm,"workTypes",e)},expression:"newEmployeeForm.workTypes"}},t._l(t.workTypes,function(e){return o("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:t.newEmployeeForm.remark,callback:function(e){t.$set(t.newEmployeeForm,"remark","string"==typeof e?e.trim():e)},expression:"newEmployeeForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("newEmployeeForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var ze=o("Z0/y")(Ae,Ne,!1,function(t){o("6QSj")},"data-v-6c32d43e",null).exports,Ee={name:"EmployeeDetail",data:function(){return{modEmployeeForm:{id:"",name:"",gender:"",mobile:"",entryTime:"",workTypes:[],remark:""},genders:[{label:"男",value:1},{label:"女",value:0}],workTypes:[{name:"美容师",value:"1"},{name:"美甲师",value:"2"},{name:"美睫师",value:"3"},{name:"美容咨询师",value:"4"},{name:"总监",value:"5"}],rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],gender:[{required:!0,message:"性别不能为空",trigger:"blur"},{type:"number",message:"性别必须是数字",trigger:"blur"}],mobile:[{required:!0,message:"手机不能为空",trigger:"blur"},{type:"number",message:"请输入正确的手机",trigger:"blur"}],entryTime:[{required:!0,message:"入职日期不能为空",trigger:"blur"}],workTypes:[{required:!0,message:"工种不能为空",trigger:"blur"}]},loading:!1,enterFlag:!0}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.enterFlag=!1,e.modEmployeeForm.entryTime=e.toTimeStamp(e.modEmployeeForm.entryTime),e.$store.dispatch("modEmployee",e.modEmployeeForm).then(function(t){0===t.code&&(e.$message.success("修改成功"),setTimeout(function(){e.loading=!1,e.$router.push({path:"/employee"})},2e3))}).catch(function(t){e.loading=!1,console.log(t)})})}},beforeMount:function(){if(0===this.$store.state.employee.employees.length)this.$router.push({path:"/employee"});else{var t=this.$store.getters.getEmployeeById(this.$route.params.id);this.modEmployeeForm.id=t.id,this.modEmployeeForm.name=t.name,this.modCustomerForm.gender="男"===t.gender?1:0,this.modCustomerForm.mobile=U()(t.mobile),this.modCustomerForm.entryTime=t.entryTime,this.modCustomerForm.workTypes=t.workTypes,this.modCustomerForm.remark=t.remark}}},Re={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"EmployeeDetail"},[o("el-row",{staticClass:"page-title-row"},[o("router-link",{staticClass:"page-title-back",attrs:{to:"/employee"}},[o("i",{staticClass:"el-icon-back"}),t._v(" 返回")]),t._v(" "),o("span",{staticClass:"page-title"},[t._v("编辑员工")])],1),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"start"}},[o("el-col",{attrs:{xs:24,sm:12,md:8}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"modEmployeeForm",staticClass:"new-form",attrs:{model:t.modEmployeeForm,"label-width":"80px",rules:t.rules},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.enterFlag&&t.onSubmit("modEmployeeForm")}}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{attrs:{autofocus:!0},model:{value:t.modEmployeeForm.name,callback:function(e){t.$set(t.modEmployeeForm,"name","string"==typeof e?e.trim():e)},expression:"modEmployeeForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.modEmployeeForm.gender,callback:function(e){t.$set(t.modEmployeeForm,"gender",t._n(e))},expression:"modEmployeeForm.gender"}},t._l(t.genders,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[o("el-input",{attrs:{placeholder:"请输入手机"},model:{value:t.modEmployeeForm.mobile,callback:function(e){t.$set(t.modEmployeeForm,"mobile",t._n(e))},expression:"modEmployeeForm.mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"入职日期",prop:"entryTime"}},[o("el-date-picker",{attrs:{align:"center",type:"date",editable:!1,placeholder:"选择日期"},model:{value:t.modEmployeeForm.entryTime,callback:function(e){t.$set(t.modEmployeeForm,"entryTime",e)},expression:"modEmployeeForm.entryTime"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"工种",prop:"workTypes"}},[o("el-checkbox-group",{model:{value:t.modEmployeeForm.workTypes,callback:function(e){t.$set(t.modEmployeeForm,"workTypes",e)},expression:"modEmployeeForm.workTypes"}},t._l(t.workTypes,function(e){return o("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1),t._v(" "),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:t.modEmployeeForm.remark,callback:function(e){t.$set(t.modEmployeeForm,"remark","string"==typeof e?e.trim():e)},expression:"modEmployeeForm.remark"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("modEmployeeForm")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ie=o("Z0/y")(Ee,Re,!1,function(t){o("pFD7")},"data-v-797ccbfc",null).exports,Oe={name:"ProjectType",data:function(){return{projectTypeSearch:{content:"",oldContent:"",pageNum:1,pageSize:10,type:""},loading:!1}},computed:{pageNum:function(){return this.$store.state.projectType.pageNum},pageSize:function(){return this.$store.state.projectType.pageSize},totalCount:function(){return this.$store.state.projectType.totalCount},totalPages:function(){return this.$store.state.projectType.totalPages},tableData:function(){return this.$store.state.projectType.projectTypes}},methods:{searchProjectType:function(t){var e=this;this.loading=!0,"search"===t&&(this.projectTypeSearch.oldContent=this.projectTypeSearch.content),this.projectTypeSearch.type=t,this.$store.dispatch("loadProjectType",this.projectTypeSearch).then(function(t){e.loading=!1,e.$message.success("查询成功")}).catch(function(t){console.log(t)})},chagePage:function(t){this.projectTypeSearch.pageNum=t,this.searchProjectType("page")},handleEdit:function(t,e){this.$router.push({path:"/projectType/"+e.id})},handleDelete:function(t,e){var o=this,n=this.$createElement;this.$msgbox({title:"提示",message:n("p",null,[n("span",null,"此操作将会永久删除该记录！ ")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",beforeClose:function(t,n,r){"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="删除中...",o.$store.dispatch("delProjectType",e.id).then(function(t){r(),n.confirmButtonLoading=!1,o.searchProjectType("search")}).catch(function(t){console.log(t)})):r()}}).catch(function(){o.$message({type:"info",message:"取消删除"})})}},beforeMount:function(){this.searchProjectType("search")}},qe={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ProjectType"},[o("el-form",{ref:"projectTypeSearch",staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:t.projectTypeSearch},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchProjectType("search")}}},[o("el-form-item",[o("el-input",{staticStyle:{display:"none"}}),t._v(" "),o("el-input",{attrs:{placeholder:""},model:{value:t.projectTypeSearch.content,callback:function(e){t.$set(t.projectTypeSearch,"content","string"==typeof e?e.trim():e)},expression:"projectTypeSearch.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchProjectType("search")}}},[t._v("查询")])],1)],1),t._v(" "),o("div",{staticClass:"operate-box"},[o("router-link",{attrs:{to:"/projectType/new"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("新建")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini"}},[t._e(),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"150px;",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("el-pagination",{attrs:{layout:"total, prev, pager, next","page-size":t.pageSize,total:t.totalCount},on:{"current-change":t.chagePage}})],1)},staticRenderFns:[]};var Be=o("Z0/y")(Oe,qe,!1,function(t){o("0Fkc")},"data-v-5723cb26",null).exports,De=o("Z0/y")(null,null,!1,null,null,null).exports,je=o("Z0/y")(null,null,!1,null,null,null).exports,Me={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Chart"},[this._v("   \n    图表\n")])},staticRenderFns:[]};var Ze=o("Z0/y")({name:"Chart",data:function(){return{}},computed:{},methods:{}},Me,!1,function(t){o("yv5h")},"data-v-089f17ab",null).exports,Le={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Appointment"},[this._v("   \n    预约\n")])},staticRenderFns:[]};var Ue=o("Z0/y")({name:"Appointment",data:function(){return{}},computed:{},methods:{}},Le,!1,function(t){o("nfkx")},"data-v-23bc373c",null).exports,He={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Schedule"},[this._v("   \n    日程\n")])},staticRenderFns:[]};var Ve=o("Z0/y")({name:"Schedule",data:function(){return{}},computed:{},methods:{}},He,!1,function(t){o("To+9")},"data-v-395dc3a3",null).exports;r.default.use(u.a);var Ye=new u.a({mode:"history",routes:[{path:"/",name:"Home",component:$,children:[{path:"chart",component:Ze},{path:"store",component:A},{path:"store/new",component:E},{path:"store/:id",component:O},{path:"principal",component:D},{path:"principal/new",component:Z},{path:"principal/:id",component:Y},{path:"reception",component:X},{path:"reception/new",component:Q},{path:"reception/:id",component:ot},{path:"operator",component:at},{path:"operator/new",component:lt},{path:"operator/:id",component:mt},{path:"stock-type",component:ft},{path:"stock-type/new",component:vt},{path:"stock-type/:id",component:kt},{path:"stock",component:Ft},{path:"stock/new",component:Ct},{path:"stock/:id",component:Tt},{path:"stock/new-amount/:id",component:zt},{path:"stock-amount",component:It},{path:"stock-amount-supply/:id",component:Bt},{path:"stock-amount-detail/:id",component:Mt},{path:"product-type",component:Ut},{path:"product-type/new",component:Yt},{path:"product-type/:id",component:Xt},{path:"product",component:Qt},{path:"product/new",component:oe},{path:"product/:id",component:ae},{path:"product/new-amount/:id",component:le},{path:"product-amount",component:me},{path:"product-amount-supply/:id",component:fe},{path:"product-amount-detail/:id",component:ve},{path:"customer",component:ke},{path:"customer/new",component:Fe},{path:"customer/:id",component:Ce},{path:"employee",component:Te},{path:"employee/new",component:ze},{path:"employee/:id",component:Ie},{path:"project-type",component:Be},{path:"project-type/new",component:De},{path:"project-type/:id",component:je},{path:"appointment",component:Ue}],meta:{requiresSignin:!0}},{path:"/signin",name:"Signin",component:k},{path:"/resetpwd",name:"ResetPWD",component:x},{path:"/schedule",name:"Schedule",component:Ve,meta:{requiresSignin:!0}}]}),We={state:{account:"",name:"",token:"",status:status},getters:{},actions:{signin:function(t,e){var o=t.commit;console.log(e),o("signin",{account:"893074711@qq.com",name:"章琦",token:"12345678",status:!0}),e.$router.push({path:"/home"})},delete:function(t,e){t.commit,t.state;console.log(e),f()({method:"delete",url:"/user/delete/"+e.id})}},mutations:{signin:function(t,e){t.account=e.account,t.name=e.name,t.token=e.token,t.status=e.status}}},Ke={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,users:[]},getters:{getUserById:function(t){return function(e){return t.users.find(function(t){return t.id===U()(e)})}}},actions:{loadUser:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/users",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize,role:e.role}).then(function(e){o("loadUser",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,users:e.data.data}),t(e)}).catch(function(t){n(t)})})},addUser:function(t,e){t.commit;return new p.a(function(t,o){v.post("/users",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modUser:function(t,e){t.commit;return new p.a(function(t,o){v.put("/users/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},delUser:function(t,e){t.commit;return new p.a(function(t,o){v.del("/users/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadUser:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.users=e.users}}},Xe={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,stores:[],storesAll:[]},getters:{getStoreById:function(t){return function(e){return t.stores.find(function(t){return t.id===U()(e)})}}},actions:{loadStore:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/stores",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadStore",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,stores:e.data.data}),t(e)}).catch(function(t){n(t)})})},loadStoreAll:function(t,e){var o=t.commit;return new p.a(function(t,e){v.get("/stores/all").then(function(e){o("loadStoreAll",{storesAll:e.data}),t(e)}).catch(function(t){e(t)})})},addStore:function(t,e){t.commit;return new p.a(function(t,o){v.post("/stores",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modStore:function(t,e){t.commit;return new p.a(function(t,o){v.put("/stores/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},delStore:function(t,e){t.commit;return new p.a(function(t,o){v.del("/stores/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadStore:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.stores=e.stores},loadStoreAll:function(t,e){t.storesAll=e.storesAll}}},Ge={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,stockTypes:[],stockTypesAll:[]},getters:{getStockTypeById:function(t){return function(e){return t.stockTypes.find(function(t){return t.id===U()(e)})}}},actions:{loadStockType:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/stocks/types",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadStockType",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,stockTypes:e.data.data}),t(e)}).catch(function(t){n(t)})})},loadStockTypeAll:function(t,e){var o=t.commit;return new p.a(function(t,e){v.get("/stocks/types/all").then(function(e){o("loadStockTypeAll",{stockTypesAll:e.data}),t(e)}).catch(function(t){e(t)})})},addStockType:function(t,e){t.commit;return new p.a(function(t,o){v.post("/stocks/types",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modStockType:function(t,e){t.commit;return new p.a(function(t,o){v.put("/stocks/types/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},delStockType:function(t,e){t.commit;return new p.a(function(t,o){v.del("/stocks/types/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadStockType:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.stockTypes=e.stockTypes},loadStockTypeAll:function(t,e){t.stockTypesAll=e.stockTypesAll}}},Je={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,stocks:[]},getters:{getStockById:function(t){return function(e){return t.stocks.find(function(t){return t.id===U()(e)})}}},actions:{loadStock:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/stocks",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadStock",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,stocks:e.data.data}),t(e)}).catch(function(t){n(t)})})},addStock:function(t,e){t.commit;return new p.a(function(t,o){v.post("/stocks",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modStock:function(t,e){t.commit;return new p.a(function(t,o){v.put("/stocks/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},delStock:function(t,e){t.commit;return new p.a(function(t,o){v.del("/stocks/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})},addStockAmount:function(t,e){t.commit;return new p.a(function(t,o){v.post("/stocks/amount",e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadStock:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.stocks=e.stocks}}},Qe={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,stockAmounts:[]},getters:{getStockAmountById:function(t){return function(e){return t.stockAmounts.find(function(t){return t.id===U()(e)})}},getStockAmountBySAId:function(t){return function(e){return t.stockAmounts.find(function(t){return t.stockAmountId===U()(e)})}}},actions:{loadStockAmount:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/stocks/amount",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadStock",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,stockAmounts:e.data.data}),t(e)}).catch(function(t){n(t)})})},supplyStockAmount:function(t,e){t.commit;return new p.a(function(t,o){v.patch("/stocks/amount/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},modStockAmount:function(t,e){t.commit;return new p.a(function(t,o){v.put("/stocks/amount/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadStock:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.stockAmounts=e.stockAmounts}}},to={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,productTypes:[],productTypesAll:[]},getters:{getProductTypeById:function(t){return function(e){return t.productTypes.find(function(t){return t.id===U()(e)})}}},actions:{loadProductType:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/products/types",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadProductType",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,productTypes:e.data.data}),t(e)}).catch(function(t){n(t)})})},loadProductTypeAll:function(t,e){var o=t.commit;return new p.a(function(t,e){v.get("/products/types/all").then(function(e){o("loadProductTypeAll",{productTypesAll:e.data}),t(e)}).catch(function(t){e(t)})})},addProductType:function(t,e){t.commit;return new p.a(function(t,o){v.post("/products/types",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modProductType:function(t,e){t.commit;return new p.a(function(t,o){v.put("/products/types/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},delProductType:function(t,e){t.commit;return new p.a(function(t,o){v.del("/products/types/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadProductType:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.productTypes=e.productTypes},loadProductTypeAll:function(t,e){t.productTypesAll=e.productTypesAll}}},eo={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,products:[]},getters:{getProductById:function(t){return function(e){return t.products.find(function(t){return t.id===U()(e)})}}},actions:{loadProduct:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/products",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadProduct",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,products:e.data.data}),t(e)}).catch(function(t){n(t)})})},addProduct:function(t,e){t.commit;return new p.a(function(t,o){v.post("/products",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modProduct:function(t,e){t.commit;return new p.a(function(t,o){v.put("/products/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},delProduct:function(t,e){t.commit;return new p.a(function(t,o){v.del("/products/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})},addProductAmount:function(t,e){t.commit;return new p.a(function(t,o){v.post("/products/amount",e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadProduct:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.products=e.products}}},oo={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,productAmounts:[]},getters:{getProductAmountById:function(t){return function(e){return t.productAmounts.find(function(t){return t.id===U()(e)})}},getProductAmountByPAId:function(t){return function(e){return t.productAmounts.find(function(t){return t.productAmountId===U()(e)})}}},actions:{loadProductAmount:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/products/amount",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadProductAmount",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,productAmounts:e.data.data}),t(e)}).catch(function(t){n(t)})})},supplyProductAmount:function(t,e){t.commit;return new p.a(function(t,o){v.patch("/products/amount/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},modProductAmount:function(t,e){t.commit;return new p.a(function(t,o){v.put("/products/amount/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadProductAmount:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.productAmounts=e.productAmounts}}},no={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,customers:[]},getters:{getCustomerById:function(t){return function(e){return t.customers.find(function(t){return t.id===U()(e)})}}},actions:{loadCustomer:function(t,e){var o=t.commit;return new p.a(function(t,n){v.put("/customer/list",{keyWords:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadCustomer",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,customers:e.data.data}),t(e)}).catch(function(t){n(t)})})},addCustomer:function(t,e){t.commit;return new p.a(function(t,o){v.put("/customer/create",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modCustomer:function(t,e){t.commit;return new p.a(function(t,o){v.put("/customer/modify",e).then(function(e){t(e)}).catch(function(t){o(t)})})},delCustomer:function(t,e){t.commit;return new p.a(function(t,o){v.del("/customer/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadCustomer:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.customers=e.customers}}},ro={state:{pageNum:0,pageSize:0,totalCount:0,totalPages:0,employees:[]},getters:{getEmployeeById:function(t){return function(e){return t.employees.find(function(t){return t.id===U()(e)})}}},actions:{loadEmployee:function(t,e){var o=t.commit;return new p.a(function(t,n){v.get("/employees/search",{search:"search"===e.type?e.content:e.oldContent,pageNum:e.pageNum,pageSize:e.pageSize}).then(function(e){o("loadStock",{pageNum:e.data.pageNum,pageSize:e.data.pageSize,totalCount:e.data.totalCount,totalPages:e.data.totalPages,employees:e.data.data}),t(e)}).catch(function(t){n(t)})})},addEmployee:function(t,e){t.commit;return new p.a(function(t,o){v.post("/employees",e).then(function(e){t(e)}).catch(function(t){o(t)})})},modEmployee:function(t,e){t.commit;return new p.a(function(t,o){v.put("/employees/"+e.id,e).then(function(e){t(e)}).catch(function(t){o(t)})})},delEmployee:function(t,e){t.commit;return new p.a(function(t,o){v.del("/employees/"+e,e).then(function(e){t(e)}).catch(function(t){o(t)})})}},mutations:{loadEmployee:function(t,e){t.pageNum=e.pageNum,t.pageSize=e.pageSize,t.totalCount=e.totalCount,t.totalPages=e.totalPages,t.employees=e.employees}}},ao=function(t,e){t.commit;console.log(e),f()({method:"post",url:"/user/login",data:{account:e.account,password:e.password}})},io=function(t,e){t.commit;console.log(e),f()({method:"post",url:"/user/login",data:{account:e.account,password:e.password}})},so=o("ukYY"),lo=o.n(so);f.a.defaults.headers.post["Content-Type"]="application/json",f.a.defaults.baseURL="http://localhost:8080",r.default.use(a.a);var co=new a.a.Store({actions:n,mutations:lo.a,modules:{account:We,store:Xe,user:Ke,stockType:Ge,stock:Je,stockAmount:Qe,productType:to,product:eo,productAmount:oo,customer:no,employee:ro}}),uo={install:function(t,e){t.myGlobalMethod=function(){},t.directive("my-directive",{bind:function(t,e,o,n){}}),t.mixin({created:function(){}}),t.prototype.setAccountSession=function(t,e,o,n){sessionStorage.setItem("role",t),sessionStorage.setItem("account",e),sessionStorage.setItem("name",o),sessionStorage.setItem("token",n)},t.prototype.getRoleSession=function(){return sessionStorage.getItem("role")},t.prototype.getAccountSession=function(){return sessionStorage.getItem("account")},t.prototype.getNameSession=function(){return sessionStorage.getItem("name")},t.prototype.getTokenSession=function(){return sessionStorage.getItem("token")},t.prototype.clearAccountSession=function(){sessionStorage.removeItem("role"),sessionStorage.removeItem("account"),sessionStorage.removeItem("name"),sessionStorage.removeItem("token")},t.prototype.toDatetimeDay=function(t){var e=new Date(parseInt(t)),o=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();e.getHours(),e.getMinutes(),e.getSeconds();return o+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)},t.prototype.toDatetimeMin=function(t){var e=new Date(parseInt(t)),o=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),i=e.getMinutes();e.getSeconds();return o+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)+" "+(a<10?"0"+a:a)+":"+(i<10?"0"+i:i)},t.prototype.toTimeStamp=function(t){return t.getTime()}}};r.default.use(a.a),r.default.use(s.a),r.default.use(uo),r.default.config.productionTip=!1,Ye.beforeEach(function(t,e,o){(0===t.matched.length?e.name?o({name:e.name}):o("/"):o(),t.matched.some(function(t){return t.meta.requiresSignin}))?sessionStorage.getItem("token")?o():o({path:"/signin"}):("/signin"===t.path&&(sessionStorage.removeItem("account"),sessionStorage.removeItem("name"),sessionStorage.removeItem("token")),o())}),new r.default({el:"#app",router:Ye,store:co,components:{App:c},template:"<App/>"})},NKzO:function(t,e){},NcGL:function(t,e){},"O6/x":function(t,e){},"To+9":function(t,e){},Uf2R:function(t,e){},XPIX:function(t,e){},Xl05:function(t,e){},YPg6:function(t,e){},YVSn:function(t,e){},"Z2/d":function(t,e){},ZyEc:function(t,e){},aRR8:function(t,e){},aV4Z:function(t,e){},bA15:function(t,e){},cI0C:function(t,e){},eMjX:function(t,e){},eWD8:function(t,e){},edvU:function(t,e){},fH8R:function(t,e){},fKO3:function(t,e){},gzmR:function(t,e){},hMro:function(t,e){},jVIh:function(t,e){},lN1t:function(t,e,o){t.exports=o.p+"static/img/logo-blue-2.4a24919.png"},lfpD:function(t,e){},ly2L:function(t,e){},nfkx:function(t,e){},oeyV:function(t,e){},pFD7:function(t,e){},q7qj:function(t,e){},q8Ou:function(t,e){},qfkq:function(t,e){},s68u:function(t,e){},ukYY:function(t,e){},vr2N:function(t,e){},wVOR:function(t,e){},wW0W:function(t,e){},yv5h:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.23a5034047125e9ee653.js.map